"use strict";(self.webpackChunklite=self.webpackChunklite||[]).push([[4875],{92679:(e,n,t)=>{t.d(n,{A:()=>o});var i,a=t(96540);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)({}).hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},l.apply(null,arguments)}const o=function(e){return a.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),i||(i=a.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"m1 14 5.09-5.143 2.546 2.572L15 5m0 0h-4.073M15 5v3.857"})))}},1417:(e,n,t)=>{t.d(n,{A:()=>o});var i,a=t(96540);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)({}).hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},l.apply(null,arguments)}const o=function(e){return a.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),i||(i=a.createElement("path",{fill:"#242424",fillRule:"evenodd",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0m1 0c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10m-9.073-4.745a.25.25 0 0 0-.25-.255H11.48a.25.25 0 0 0-.25.255l.134 6.292a.25.25 0 0 0 .25.245h.934a.25.25 0 0 0 .25-.244zM11 16.245c0-.653.436-1.082 1.089-1.082h.01c.653 0 1.075.43 1.075 1.083 0 .64-.432 1.068-1.084 1.068-.654 0-1.09-.429-1.09-1.068",clipRule:"evenodd"})))}},49470:(e,n,t)=>{t.d(n,{A:()=>o});var i,a=t(96540);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)({}).hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},l.apply(null,arguments)}const o=function(e){return a.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),i||(i=a.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18M8.25 12h7.5"})))}},18599:(e,n,t)=>{t.d(n,{a:()=>S,r:()=>E});var i=t(96540),a=t(28899),l=t(87147),o=t(67476),r=t(5562),d=t(52290),s=t(86975),c=t(86527),u=t(36557),m=t(39),p=t(44402),v=t(56774),k=t(51260),f=t(90383),g=t(27715),b=t(60213),h=function(e){return{":hover span":{color:e.colorTokens.foreground.neutral.primary.base}}},y=function(e){return{position:"absolute",height:"42px",width:"100%",top:0,left:0,borderTopLeftRadius:"4px",borderTopRightRadius:"4px",backgroundImage:"url(".concat(e,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"}},E=5,S=function(e){var n,t,E=e.collection,S=e.trackingV2,N=E.name,w=E.description,C=E.customStyleSheet,x=E.slug,A=(0,b.z)(E),O=(0,k.au)()("ShowLiteCollectionFollowers",{collectionSlug:x||""}),P=(0,v.X)({entity:E,trackingV2:S}),I=(0,m.Z)({name:"heading",scale:"XS",clamp:2,fontWeight:"NORMAL",color:"NORMAL"}),F=(0,p.l)(),R=null!=C&&null!==(n=C.header)&&void 0!==n&&null!==(t=n.backgroundImage)&&void 0!==t&&t.id?(0,f.rP)({miroId:C.header.backgroundImage.id,strategy:f.qY.Resample}):null;return i.createElement(d.a,{width:"280px",display:"flex",flexDirection:"column",padding:"24px",position:"relative",ref:P},!!R&&i.createElement("div",{className:F(y(R))}),i.createElement(d.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end"},i.createElement(a.u,{size:64,collection:E,link:!0,showBorder:!!R}),i.createElement(d.a,null,i.createElement(l.E,{collection:E,buttonSize:"SMALL",buttonStyleFn:function(e){return e?"SUBTLE":"BRAND"},susiEntry:"follow_card",trackingV2:S}))),i.createElement(d.a,{marginTop:"12px",display:"flex",flexDirection:"column"},i.createElement(s.D,{href:A},i.createElement(d.a,{display:"flex",flexDirection:"column"},i.createElement("div",{className:F([I,{display:"block"}])},N))),i.createElement(d.a,{marginTop:"4px",display:"flex",flexDirection:"row"},i.createElement(u.kZ,{scale:"S",color:"LIGHTER"},"Publication"),i.createElement(r.d,{margin:"0 8px"}),i.createElement(c.N,{href:O,linkStyle:"SUBTLE",rules:h},i.createElement(u.kZ,{scale:"S",color:"DARKER",tag:"span"},(0,g.Ct)(E.subscriberCount||0)),i.createElement(u.kZ,{scale:"S",tag:"span"}," Followers")))),w&&i.createElement(d.a,{paddingTop:"12px"},i.createElement(u.kZ,{scale:"S",color:"DARKER",clamp:4},i.createElement(o.O,{wrapLinks:!0},w))))}},94971:(e,n,t)=>{t.d(n,{C:()=>r});var i=t(96540),a=t(52290),l=t(86527),o=t(46879);function r(e){var n=e.entityName,t=void 0===n?"story":n;return i.createElement(a.a,{textAlign:"center",testId:"deleteStoryModalText"},"Deletion is not reversible, and the story will be completely deleted. If you do not want to delete, you can"," ",i.createElement(l.N,{target:"_blank",href:o.Xj4,inline:!0,linkStyle:"OBVIOUS"},"unlist the ",t),".")}},43849:(e,n,t)=>{t.d(n,{$:()=>p,J:()=>m});var i=t(80296),a=t(96540),l=t(44402),o=t(42976),r=t(60603),d=t(8963),s=t(34507),c=function(e){return{overflow:"hidden",transition:"opacity 300ms ease".concat(e?"":" 300ms",", max-height 300ms ease").concat(e?" 300ms":""),maxHeight:e?"0":"450px",opacity:e?0:1}},u=(0,a.createContext)({});function m(e){var n=e.children,t=e.post,m=(0,l.l)(),p=(0,a.useRef)(!1),v=(0,s.K)(t.id,"cache-only").explicitSignal,k=(0,a.useState)(v===o.WN.SHOW_LESS),f=(0,i.A)(k,2),g=f[0],b=f[1],h=(0,r.e)(!1),y=(0,i.A)(h,3),E=y[0],S=y[1],N=y[2],w=(0,a.useCallback)((function(e){g&&p.current&&"max-height"===e.propertyName&&(S(),p.current=!1)}),[g]),C=(0,a.useCallback)((function(){p.current=!0,b(!0)}),[]),x=(0,a.useCallback)((function(){b(!1)}),[]),A=(0,a.useMemo)((function(){return{animateShowLess:C,animateUndo:x}}),[C,x]);return a.createElement(u.Provider,{value:A},a.createElement("div",{className:m(c(g)),onTransitionEnd:w},n),a.createElement(d.b,{post:t,isVisible:E,hide:N}))}var p=function(){return(0,a.useContext)(u)}},8963:(e,n,t)=>{t.d(n,{b:()=>w});var i,a=t(80296),l=t(96540),o=t(17045),r=t(53843),d=t(2550),s=t(21335),c=t(71984),u=t(52290),m=t(94170),p=t(49287),v=t(42976),k=t(60603),f=t(55981),g=t(36557),b=t(44402);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)({}).hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},h.apply(null,arguments)}const y=function(e){return l.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),i||(i=l.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.292 9.5v5H2v-5zm1-.124v5.248l.105.08L13 20.484V3.516l-7.603 5.78zm7.905-7.266L4.792 8.5H1.5A.5.5 0 0 0 1 9v6a.5.5 0 0 0 .5.5h3.292l8.405 6.39a.5.5 0 0 0 .803-.398V2.508a.5.5 0 0 0-.803-.398m5.657 7.035a.5.5 0 0 0-.708.707L20.293 12l-2.147 2.148a.5.5 0 1 0 .708.707L21 12.707l2.146 2.148a.5.5 0 1 0 .708-.707L21.707 12l2.147-2.148a.5.5 0 1 0-.708-.707L21 11.293z",clipRule:"evenodd"})))};var E=function(e){return function(n){return{padding:"16px 24px",border:"none",cursor:"pointer",display:"flex","&:first-of-type":{paddingTop:"20px"},"&:last-of-type":{paddingBottom:"20px"},"&:not(:last-of-type)":{borderBottom:"1px solid ".concat(n.colorTokens.border.neutral.primary.base)},"& svg path":{fill:e?n.colorTokens.foreground.error.primary.base:n.colorTokens.foreground.neutral.secondary.base},":hover svg path":{fill:e?n.colorTokens.foreground.error.primary.hover:n.colorTokens.foreground.neutral.primary.base}}}};function S(e){var n=e.onClick,t=e.isReport,i=e.text,a=e.detail,o=(0,b.l)();return l.createElement("button",{className:o(E(t)),onClick:n},t?l.createElement(f.n,null):l.createElement(y,null),l.createElement(u.a,{marginLeft:"24px",display:"flex",flexDirection:"column",gap:"4px",textAlign:"left"},l.createElement(g.kZ,{scale:"M",color:t?"ERROR":"DARKER",clamp:1},i),a&&l.createElement(g.kZ,{scale:"S",clamp:1},a)))}var N=t(34507);function w(e){var n,t,i=e.hide,r=e.isVisible,u=e.post,m=null!==(n=null===(t=u.creator)||void 0===t?void 0:t.id)&&void 0!==n?n:"",v=(0,s.cd)({id:m}).viewerEdge,f=(0,d.A)().viewerId,g=(0,k.e)(!1),b=(0,a.A)(g,3),h=b[0],y=b[1],E=b[2],S=(0,o.M)({viewerId:f,targetAuthorId:m,targetPostId:u.id,onOptimisticComplete:E}),N=(0,l.useCallback)((function(){y(),i()}),[i]);return l.createElement(l.Fragment,null,r&&l.createElement(p.Ne,{source:{dimension:"negative_signal_modal"},extendSource:!0},l.createElement(C,{post:u,report:N,hide:i})),l.createElement(c.e,{isVisible:h,hide:E,type:"story",alreadyBlocking:!(null==v||!v.isBlocking),onSubmit:S}))}function C(e){var n=e.post,t=e.report,i=e.hide,o=(0,l.useState)(!1),r=(0,a.A)(o,2),d=r[0],s=r[1],c=(0,N.K)(n.id),p=c.undo,k=c.showUndoToast,f=(0,l.useCallback)((function(){d&&(k(v.WN.SHOW_LESS),s(!1)),i()}),[d,i]),g=(0,l.useCallback)((function(){p(),s(!0)}),[p]);return l.createElement(m.a,{hide:f,title:"Got it, we'll recommend fewer like this",subtitleTextAlign:"center",subtitle:"You can additionally take any of the actions below.",padding:"40px 32px 32px",subtitleMargin:"16px",confirmButtonStyle:"BRAND",confirmText:"Done",cancelText:"Undo",cancelButtonStyle:"SUBTLE",onCancel:g},l.createElement(u.a,{display:"flex",justifyContent:"center",marginBottom:"32px"},l.createElement(u.a,{width:"100%",maxWidth:"320px",display:"flex",flexDirection:"column",borderRadius:"8px",border:"neutral.primary"},n.creator&&!n.creator.viewerEdge.isMuting&&l.createElement(x,{publisher:n.creator,hide:i}),n.collection&&!n.collection.viewerEdge.isMuting&&l.createElement(x,{publisher:n.collection,hide:i}),l.createElement(S,{onClick:t,isReport:!0,text:"Report story..."}))))}function x(e){var n=e.publisher,t=e.hide,i="User"===n.__typename,a=(0,r.d)({authorId:i?n.id:void 0,collectionId:i?void 0:n.id}),o=a.muteAuthor,d=a.mutePub,s=(0,l.useCallback)((function(){i?o():d(),t()}),[o,d,i]);return l.createElement(S,{onClick:s,text:"Mute ".concat(i?"author":"publication"),detail:n.name})}},34507:(e,n,t)=>{t.d(n,{K:()=>E});var i=t(64467),a=t(80296),l=t(95420),o=t(39181),r=t(96540),d=t(2550),s=t(72130),c=t(49287),u=t(42976),m=t(91830),p=t(97249),v=t(43849),k=t(45458),f=t(50500),g={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExplicitSignalPostQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NegativeSignalModal_post"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"explicitSignalState"}}]}}]}}]}}].concat((0,k.A)(f.c.definitions))},b={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ExplicitSignalMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"signal"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ExplicitUserSignal"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendExplicitSignal"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}},{kind:"ObjectField",name:{kind:"Name",value:"signal"},value:{kind:"Variable",name:{kind:"Name",value:"signal"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]};function h(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?h(Object(t),!0).forEach((function(n){(0,i.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function E(e,n){var t,i,k=(0,s.$L)(),f=(0,c.Fo)()||{},h=(0,d.A)().viewerId,E=(0,m.zF)(),S=(0,v.$)().animateUndo,N=(0,l.n)(b),w=(0,a.A)(N,1)[0],C=(0,o.I)(g,{variables:{id:e},fetchPolicy:n}),x=C.data,A=C.loading,O=null==x||null===(t=x.post)||void 0===t||null===(i=t.viewerEdge)||void 0===i?void 0:i.explicitSignalState,P=(0,r.useCallback)((function(n){w({variables:{postId:e,signal:n},update:function(t){h&&t.modify({id:"PostViewerEdge:".concat((0,p.N)(e,h)),fields:{explicitSignalState:function(){return n===u.WN.CLEAR_SIGNAL?null:n}}})}})}),[w,e,h]),I=(0,r.useCallback)((function(n){var t=n.name,i=n.data,a=n.dimension;return k.event(t,y({postId:e,source:a?(0,c.wv)(y(y({},f),{},{dimension:a})):(0,c.wv)(f)},i))}),[e,f]),F=(0,r.useCallback)((function(e){var n=O===u.WN.SHOW_MORE;P(u.WN.CLEAR_SIGNAL),I({name:"post.see_".concat(n?"more":"less",".undo"),dimension:e}),n?D(u.WN.SHOW_MORE):null==S||S()}),[e,O,S]),R=(0,r.useCallback)((function(){P(u.WN.SHOW_MORE),I({name:"post.see_more"})}),[I,P]),T=(0,r.useCallback)((function(){P(u.WN.SHOW_LESS),I({name:"post.see_less",data:{mutationSent:!0}})}),[I,P]),D=(0,r.useCallback)((function(e){E({message:"Undone. We won’t recommend ".concat(e===u.WN.SHOW_LESS?"fewer":"more"," stories like this."),extraParams:{hideCloseButton:!0}})}),[]),V=(0,r.useCallback)((function(){E({toastStyle:"USER_POSITIVE_SIGNAL",extraParams:{onClickUndo:function(){return F("toast")}}})}),[E,F]);return{loading:A,undo:F,showMore:R,showLess:T,explicitSignal:O,showUndoToast:D,showMoreToast:V}}},28160:(e,n,t)=>{t.d(n,{G:()=>On});var i=t(64467),a=t(58168),l=t(80045),o=t(96540),r=t(80296),d=t(14792),s=t.n(d),c=t(39181),u=t(94971),m=t(14782),p=t(86527),v=t(52290),k=t(85050);function f(e){var n=e.onClick,t=e.hidePopover,i=e.showAt,a=e.bookmarkIcon,l=(0,o.useCallback)((function(){t(),n()}),[n,t]);return o.createElement(k.V,{xs:i.xs,sm:i.sm,md:i.md,lg:i.lg,xl:i.xl},o.createElement(m.q3,null,o.createElement(p.N,{"aria-controls":"aria-id","aria-expanded":"false",onClick:l},o.createElement(v.a,{display:"flex",flexDirection:"row",alignItems:"center",ariaHidden:"true",gap:"12px"},a,"Save"))),o.createElement(m.eS,null))}var g=t(20036),b=t(24809),h=["isResponsive"],y=function(e){var n=e.isResponsive,t=(0,l.A)(e,h);return o.createElement(g.u,(0,a.A)({text:n?"More":void 0,icon:o.createElement(b.A,null)},t))},E=t(69733),S=t(1491),N=t(27721),w=t(1722),C=t(56743),x=t(39160),A=t(51771),O=function(e){var n=e.post,t=e.hidePopover,i=(0,N.R)().value,a=null==i?void 0:i.id,l=(0,w.h)(n).viewerEdge,r=(0,E.wA)(),d=o.useCallback((function(e){return r((0,C.K7)(e))}),[r]),s=(0,x.Dy)((function(e){return e.multiVote.clapsPerPost})),c=(0,A.F)(s,n,l),u=c.clapCount,v=c.viewerClapCount,k=(0,S.f)();return a&&u&&v&&v>0?o.createElement(o.Fragment,null,o.createElement(m.q3,null,o.createElement(p.N,{onClick:function(){k(n,(null==i?void 0:i.id)||"",-v,l),d({postId:n.id,clapCount:u-v,viewerClapCount:0,viewerHasClappedSinceFetch:!0}),t()}},"Undo claps")),o.createElement(m.eS,null)):null},P=t(93948),I=t(44929),F=t(79193),R=t(58285),T=t(9942),D=t(60487),V=t(36557),_=t(44402),M=t(46879),L={cursor:"not-allowed",marginBottom:"8px",opacity:.5},j=function(e){var n=e.post,t=e.shareKey,i=(0,_.l)();return n&&t?o.createElement(m.q3,null,o.createElement(v.a,{width:"174px"},o.createElement("div",{className:i(L)},"Copy Friend Link"),o.createElement(V.kZ,{scale:"S",color:"LIGHTER"},'Friend links have moved to the "Share" menu.  ',o.createElement(p.N,{linkStyle:"OBVIOUS",inline:!0,href:(0,M.ZZI)()},"Learn more")))):null},B=t(5249),U=t(91830),W={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PostAllowResponsesMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetPostId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"allowResponses"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setPostAllowResponses"},arguments:[{kind:"Argument",name:{kind:"Name",value:"targetPostId"},value:{kind:"Variable",name:{kind:"Name",value:"targetPostId"}}},{kind:"Argument",name:{kind:"Name",value:"allowResponses"},value:{kind:"Variable",name:{kind:"Name",value:"allowResponses"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"allowResponses"}}]}}]}}]},H=(0,E.Ng)()((function(e){var n=e.children,t=e.dispatch,i=e.onCompleted,a=e.targetPostId;return o.createElement(B.s,{mutation:W,onCompleted:function(){t((0,U.MZ)({message:"Responses are now hidden for this post."})),i&&i()},variables:{targetPostId:a,allowResponses:!1},optimisticResponse:{__typename:"Mutation",setPostAllowResponses:{__typename:"Post",id:a,allowResponses:!1}}},(function(e){return n({mutate:e})}))})),z=(0,E.Ng)()((function(e){var n=e.children,t=e.dispatch,i=e.onCompleted,a=e.targetPostId;return o.createElement(B.s,{mutation:W,onCompleted:function(){t((0,U.MZ)({message:"Responses are now shown for this post."})),i&&i()},variables:{targetPostId:a,allowResponses:!0},optimisticResponse:{__typename:"Mutation",setPostAllowResponses:{__typename:"Post",id:a,allowResponses:!0}}},(function(e){return n({mutate:e})}))})),K=t(22036),q=t(60603),Z=function(e){var n=e.hidePopover,t=e.postId,i=e.allowResponses,a=(0,q.e)(!1),l=(0,r.A)(a,3),d=l[0],s=l[1],c=l[2],u=function(){c(),n()};return o.createElement(o.Fragment,null,o.createElement(H,{targetPostId:t},(function(e){var n=e.mutate;return o.createElement(K.n,{onConfirm:n,isVisible:d,hide:u,entityTypename:"Post"})})),o.createElement(z,{targetPostId:t},(function(e){var n=e.mutate;return o.createElement(m.q3,null,o.createElement(p.N,{onClick:function(){i?s():n()}},i?"Hide responses":"Show responses"))})))},G=t(65364),Y=t(28899),$=t(45458),J=t(82567),Q={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionSubmissionOption_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionAvatar_collection"}}]}}].concat((0,$.A)(J.$.definitions))},X={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CollectionSubmissionPopoverQuery"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"writerCollections"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionSubmissionOption_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"adminCollections"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionSubmissionOption_collection"}}]}}]}}]}}].concat((0,$.A)(Q.definitions))},ee=t(95420),ne=t(42976),te=[{kind:"FragmentDefinition",name:{kind:"Name",value:"ManageCollectionPostStatus_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}}],ie={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ManageCollectionPostStatusMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"status"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CollectionPostStatus"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"manageCollectionPostStatus"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}},{kind:"Argument",name:{kind:"Name",value:"collectionSlug"},value:{kind:"Variable",name:{kind:"Name",value:"collectionSlug"}}},{kind:"Argument",name:{kind:"Name",value:"status"},value:{kind:"Variable",name:{kind:"Name",value:"status"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"statusForCollection"}},{kind:"Field",name:{kind:"Name",value:"pendingCollection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ManageCollectionPostStatus_collection"}}]}}]}}]}}].concat((0,$.A)(te))},ae={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RejectPostFromPubMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"status"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CollectionPostStatus"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"manageCollectionPostStatus"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}},{kind:"Argument",name:{kind:"Name",value:"collectionSlug"},value:{kind:"Variable",name:{kind:"Name",value:"collectionSlug"}}},{kind:"Argument",name:{kind:"Name",value:"status"},value:{kind:"Variable",name:{kind:"Name",value:"status"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"statusForCollection"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"pendingCollection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ManageCollectionPostStatus_collection"}}]}}]}}]}}].concat((0,$.A)(te))},le=function(e){var n=(0,ee.n)(ie),t=(0,r.A)(n,1)[0];return(0,o.useCallback)((function(n){return t({variables:{collectionSlug:(null==n?void 0:n.slug)||"",postId:e.id,status:ne.d6.APPROVED}})}),[e])},oe=function(e){var n=(0,ee.n)(ae),t=(0,r.A)(n,1)[0];return(0,o.useCallback)((function(n){return t({variables:{collectionSlug:(null==n?void 0:n.slug)||"",postId:e.id,status:ne.d6.REMOVED},optimisticResponse:{manageCollectionPostStatus:{__typename:"Post",id:e.id,statusForCollection:null,collection:null,pendingCollection:null}}}).then((function(e){if(e.errors&&e.errors[0])throw e.errors[0];return e}))}),[e])},re=t(52764),de=t(3005),se=t(99731),ce=t(85864),ue=t(24960),me=t(53908),pe=t(56942),ve=t(27622),ke=t(66305),fe="collectionSubmissionPopover",ge=[{name:"",value:"No publication",content:o.createElement(v.a,{height:"32px",display:"flex",alignItems:"center",marginLeft:"5px"},o.createElement(V.kZ,{scale:"M",color:"DARKER"},"No publication"))}];function be(e){var n=e.collection;return n.name?o.createElement(v.a,{display:"flex",justifyContent:"space-between",width:"200px",alignItems:"center",marginLeft:"5px"},o.createElement(V.kZ,{scale:"M",color:"DARKER"},n.name),o.createElement(Y.u,{collection:n,size:32})):null}function he(e){var n=e.show,t=e.post,i=t.statusForCollection,a=t.isPublished,l=o.useState(!1),d=(0,r.A)(l,2),s=d[0],c=d[1];return s||ke.R5.on("load",(function(){return c(!0)})),!i&&a&&s?o.createElement(Ee,{post:t,noQueryReturn:null},(function(e){var i=e.loading,a=e.error,l=e.data;if(i||a)return null;var r=(void 0===l?{viewer:void 0}:l).viewer,d=t.creator;if(!r||!d||r.id!==d.id)return null;var s=r.adminCollections,c=r.writerCollections;return 0===s.length&&0===c.length?null:o.createElement(m.q3,null,o.createElement(p.N,{"aria-controls":fe,"aria-expanded":"false",onClick:n},"Add to publication"))})):null}function ye(e){var n=e.isVisible,t=e.hide;return o.createElement(de.l,{isVisible:n,hide:t,withCloseButton:!0},o.createElement(v.a,{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",maxWidth:"480px"},o.createElement(pe.DZ,{scale:"M",tag:"h3"},"Story submitted"),o.createElement(v.a,{paddingTop:"8px",paddingBottom:"24px"},o.createElement(ve.Pd,{scale:"M"},"We’ll email you when the publication editor has reviewed your submission.")),o.createElement(se.$n,{buttonStyle:"OBVIOUS",onClick:t},"OK")))}var Ee=function(e){var n=e.children,t=e.post,i=e.noQueryReturn,a=t.creator;return a?o.createElement(re.c,null,(function(e){return e?e.id!==a.id?i:o.createElement(G.X,{query:X,ssr:!1},(function(e){var t=e.loading,i=e.error,a=e.data;return n({loading:t,error:i,data:a})})):i})):i},Se=function(e){var n=e.post,t=e.hide,i=e.showLoadingIndicator,a=e.isVisible,l=e.children,d=o.useState(!1),s=(0,r.A)(d,2),c=s[0],u=s[1],m=o.useState(""),k=(0,r.A)(m,2),f=k[0],g=k[1],b=le(n),h=function(e){var n=(0,ee.n)(ie),t=(0,r.A)(n,1)[0];return(0,o.useCallback)((function(n){return t({variables:{collectionSlug:(null==n?void 0:n.slug)||"",postId:e.id,status:ne.d6.PENDING},optimisticResponse:{manageCollectionPostStatus:{__typename:"Post",id:e.id,statusForCollection:ne.d6.PENDING,pendingCollection:n}}})}),[e])}(n);return c||ke.R5.on("load",(function(){return u(!0)})),n.isPublished&&c?o.createElement(ce.B,null,(function(e){var r=e.isVisible,d=e.hide,s=e.show;return o.createElement(o.Fragment,null,o.createElement(ye,{hide:d,isVisible:r}),o.createElement(Ee,{post:n,noQueryReturn:l},(function(e){var r=e.loading,d=e.error,c=e.data;if(r||d)return l;var u=(void 0===c?{viewer:void 0}:c).viewer,m=n.creator;if(!u||!m||u.id!==m.id)return l;var k=u.adminCollections,y=u.writerCollections;if(0===k.length&&0===y.length)return l;var E=k.concat(y).filter((function(e){return!!e&&!!e.slug&&!!e.name})).map((function(e){return{name:e.slug||"",value:e.name||"",content:o.createElement(be,{collection:e})}})),S=ge.concat(E),N=k.reduce((function(e,n){return e[n.slug||""]=n,e}),{}),w=y.reduce((function(e,n){return e[n.slug||""]=n,e}),{}),C="";if(f){var x=S.find((function(e){return e.name===f}));x&&(C=x.value)}var A="addStoryToPublicationTitle";return o.createElement(ue.A,{ariaId:fe,hide:t,isVisible:a,popoverRenderFn:function(){return o.createElement(v.a,{padding:"20px",width:"280px",display:"flex",flexDirection:"column"},o.createElement(V.kZ,{scale:"M",color:"DARKER",ariaLabelledById:A},"Add your story to a publication:"),o.createElement(v.a,{marginTop:"10px",position:"relative"},o.createElement(v.a,{position:"absolute",height:"16px",width:"100%",bottom:"0",zIndex:"100",backgroundImage:"linear-gradient(transparent, #ffffff)"}),o.createElement(v.a,{maxHeight:"160px",overflow:"auto"},o.createElement(me.z,{value:C,onChange:g,options:S,radioButtonsName:"addStory",ariaLabelledBy:A}))),o.createElement(v.a,{display:"flex",marginTop:"20px"},f in N?o.createElement(se.$n,{onClick:function(){var e=N[f];t(),i(),b(e).then((function(){window.location.reload()}))},buttonStyle:"OBVIOUS"},"Add story"):o.createElement(se.$n,{onClick:function(){var e=w[f];h(e),t(),s()},disabled:!f},"Submit"),o.createElement(v.a,{marginLeft:"10px"},o.createElement(V.kZ,{scale:"M",color:"LIGHTER"},o.createElement(p.N,{onClick:t},o.createElement(v.a,{padding:"10px"},"Cancel"))))),o.createElement(v.a,{marginTop:"10px"},o.createElement(V.kZ,{scale:"M"},"This story will be automatically submitted to the publication. When you submit your story, the publication's editors will be notified and will be able to edit your story.")))}},l)})))})):l},Ne=function(e){var n=e.children,t=e.isVisible,i=e.post,a=e.hide,l=e.showLoadingIndicator,r=le(i),d=oe(i),s=(0,E.wA)(),c=i.pendingCollection;return c?o.createElement(ue.A,{ariaId:"manageSubmissionPopover",isVisible:t,hide:a,popoverRenderFn:function(){return o.createElement(v.a,{padding:"16px",maxWidth:"280px"},o.createElement(v.a,{display:"flex",flexDirection:"row",alignItems:"center"},o.createElement(v.a,{paddingRight:"8px"},o.createElement(Y.u,{collection:c,size:40})),o.createElement(V.kZ,{scale:"S"},"This draft is submitted to ",c.name,".")),o.createElement(v.a,{flexDirection:"row",display:"flex",paddingTop:"16px"},o.createElement(v.a,{paddingRight:"8px"},o.createElement(se.$n,{buttonStyle:"OBVIOUS",onClick:function(){a(),l(),r(i.pendingCollection).then((function(){window.location.reload()}))}},"Accept")),o.createElement(se.$n,{buttonStyle:"SUBTLE",onClick:function(){d(i.pendingCollection).then((function(){s((0,U.MZ)({message:"Story removed from ".concat(c.name||"publication")}))})),a()}},"Don't accept")))}},n):n},we=function(e,n){return n&&e.creator&&n.id===e.creator.id},Ce=t(86329),xe="removeFromPublicationPopover",Ae=function(e){var n=e.viewer,t=e.show,i=e.post,a=(0,Ce.J)(i.pendingCollection||i.collection).viewerEdge,l=null==a?void 0:a.isEditor;return n&&("APPROVED"===i.statusForCollection&&(l||function(e,n){var t=e.pendingCollection||e.collection;return t&&t.creator&&n.id===t.creator.id}(i,n)||we(i,n))||"PENDING"===i.statusForCollection&&we(i,n))?o.createElement(m.q3,null,o.createElement(p.N,{"aria-controls":xe,"aria-expanded":"false",onClick:t},"Remove story from publication")):null},Oe=function(e){var n=e.children,t=e.isVisible,i=e.hide,a=e.post,l=e.viewer,r=(0,E.wA)(),d=oe(a),s=a.collection||a.pendingCollection;return s?o.createElement(ue.A,{ariaId:xe,isVisible:t,hide:i,popoverRenderFn:function(){return o.createElement(v.a,{padding:"16px",maxWidth:"280px"},o.createElement(v.a,{display:"flex",flexDirection:"row",alignItems:"center"},o.createElement(v.a,{paddingRight:"8px"},o.createElement(Y.u,{collection:s,size:40})),"APPROVED"===a.statusForCollection?o.createElement(V.kZ,{scale:"S"},we(a,l)?"Your":"This"," story is published in"," ",s.name,"."):"PENDING"===a.statusForCollection?o.createElement(V.kZ,{scale:"S"},"Your story is being reviewed by ",s.name," editors."):o.createElement(V.kZ,{scale:"S"},"This draft is submitted to ",s.name)),o.createElement(v.a,{flexDirection:"row",display:"flex",paddingTop:"16px"},o.createElement(v.a,{paddingRight:"8px"},o.createElement(se.$n,{buttonStyle:"SUBTLE",onClick:function(){d(s).then((function(){r((0,U.MZ)({message:"Story removed from ".concat(s.name||"publication")}))}),(function(){r((0,U.MZ)({message:"There was a problem removing the story from ".concat(s.name||"publication"),toastStyle:"ERROR"}))})),i()}},"PENDING"===a.statusForCollection?"Cancel submission":"Remove from ".concat(s.name||"")))))}},n):n},Pe=t(38714),Ie=t(89142),Fe=t(32038),Re=t(19723),Te=t(43634),De=t(59348),Ve=t(88308),_e=t(21335),Me=t(71984),Le=t(17045),je=function(e){var n=e.hidePopover,t=e.targetUserId,i=e.postId,a=e.viewerId,l=(0,_e.cd)({id:t}).viewerEdge,d=!(null==l||!l.isBlocking),s=(0,q.e)(!1),c=(0,r.A)(s,3),u=c[0],v=c[1],k=c[2],f=(0,o.useCallback)((function(){k(),n()}),[n,k]),g=(0,Le.M)({viewerId:a,targetAuthorId:t,targetPostId:i,onOptimisticComplete:f});return o.createElement(o.Fragment,null,o.createElement(Me.e,{onSubmit:g,isVisible:u,hide:f,type:"story",alreadyBlocking:d}),o.createElement(m.q3,null,o.createElement(p.N,{onClick:v,color:"RED"},"Report story...")))},Be=t(46445),Ue=t(51260),We=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(){for(var e=0,t=n;e<t.length;e++)(0,t[e])()}},He=t(45977),ze=t(74938),Ke=t(89429),qe=t(83983),Ze=t(2674),Ge=t(94405),Ye={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CreatorActionOverflowPopover_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allowResponses"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"statusForCollection"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"pinnedAt"}},{kind:"Field",name:{kind:"Name",value:"pinnedByCreatorAt"}},{kind:"Field",name:{kind:"Name",value:"curationEligibleAt"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"responseDistribution"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"inResponseToPostResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"inResponseToCatalogResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"pendingCollection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MutePopoverOptions_creator"}},{kind:"FragmentSpread",name:{kind:"Name",value:"auroraHooks_publisher"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MutePopoverOptions_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"auroraHooks_publisher"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsPinnedInContext_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3EmailToSubscribersMenuItem_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuItemUndoClaps_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"AddToCatalogBase_post"}}]}}].concat((0,$.A)(He.o.definitions),(0,$.A)(ze.q.definitions),(0,$.A)(He._.definitions),(0,$.A)(Ke.N.definitions),(0,$.A)(qe.G.definitions),(0,$.A)(Ze.n.definitions),(0,$.A)(Ge.od.definitions))},$e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CreatorActionOverflowPopoverQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CreatorActionOverflowPopover_post"}}]}}]}}].concat((0,$.A)(Ye.definitions))};function Je(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Qe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Je(Object(t),!0).forEach((function(n){(0,i.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Je(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Xe,en=function(e){var n=(0,c.I)($e,{variables:{postId:e.post.id}}).data;if(null==n||!n.post)return null;var t=Qe(Qe({},e),{},{post:n.post});return o.createElement(nn,t)},nn=function(e){var n,t,i=e.post,l=e.showLoadingIndicator,d=e.hideUndoApplause,c=void 0!==d&&d,k=e.isResponsive,g=e.popoverPositioningStrategy,b=e.hideOnScroll,h=e.testId,E=e.prependMenuItems,S=e.rules,C=e.showAddToList,A=i.creator,V=i.collection,_=o.useState(!1),L=(0,r.A)(_,2),B=L[0],W=L[1],H=o.useState(!1),z=(0,r.A)(H,2),K=z[0],G=z[1],Y=o.useState(!1),$=(0,r.A)(Y,2),J=$[0],Q=$[1],X=i.allowResponses,ee=i.pendingCollection,te=i.mediumUrl,ie=i.visibility,ae=(0,Ce.J)(V).viewerEdge,le=(0,Ce.J)(ee).viewerEdge,oe=(0,w.h)(i).viewerEdge,re=(0,U.zF)(),de=(0,N.R)().value,se=null==de?void 0:de.id,ce=i.responseDistribution===ne.IZ.DISTRIBUTED,me=!!i.inResponseToPostResult||!!i.inResponseToCatalogResult,pe=me?"response":"story",ve=(0,Ie.L)(i),ke=(0,r.A)(ve,2),fe=ke[0],ge=ke[1],be=(0,Pe.M)(i.collection),ye=(0,Pe.M)(i.creator),Ee=o.useCallback((function(e){var n,t,a;re({extraParams:{collectionName:(null===(n=i.collection)||void 0===n?void 0:n.name)||"",becamePinned:!(null===(t=e.data)||void 0===t||null===(a=t.setPinnedAt)||void 0===a||!a.pinnedAt)},toastStyle:"POST_PINNED_TO_COLLECTION_HOMEPAGE"})}),[null===(n=i.collection)||void 0===n?void 0:n.name]),we=o.useCallback((function(e,n){var t;"MutationSuccess"===(null===(t=e.data)||void 0===t?void 0:t.setPostPinnedOnCreatorProfile.__typename)&&re({message:"This ".concat(pe,n?" has been unpinned from your profile's homepage":" has been pinned to your profile's homepage")})}),[]),xe=o.useCallback((function(){ge().then(Ee)}),[ge,Ee,null==i||null===(t=i.collection)||void 0===t?void 0:t.name]),_e=(0,Ie.m)(i),Me=(0,r.A)(_e,2),Le=Me[0],He=Me[1],ze=o.useCallback((function(){He().then((function(e){return we(e,Le)}))}),[He,we]),Ke=(0,x.d4)((function(e){return e.config.authDomain})),qe=o.useState(!1),Ze=(0,r.A)(qe,2),Ge=Ze[0],Ye=Ze[1],$e=(0,q.e)(!1),Je=(0,r.A)($e,3),Qe=Je[0],Xe=Je[1],en=Je[2],nn=(0,q.e)(!1),tn=(0,r.A)(nn,4),an=tn[0],ln=tn[2],on=tn[3],rn=(0,F.Q)(i.id),dn=(0,r.A)(rn,1)[0],sn=(0,q.e)(!1),cn=(0,r.A)(sn,3),un=cn[0],mn=cn[1],pn=cn[2],vn=(0,Ue.Nw)("ShowHome",{}),kn=o.useCallback((function(){dn().then((function(){window.location.assign(vn)}))}),[dn,vn]),fn="Delete story";ce?fn="Delete story and response":me&&(fn="Delete response");var gn=ce?Fe.e:o.createElement(u.C,{entityName:pe}),bn=(0,Re._P)("can_edit_members_only_posts");if(!A||!de)return null;var hn=se===A.id,yn=(null==ae?void 0:ae.isEditor)||(null==le?void 0:le.isEditor),En=hn||yn,Sn=bn&&i&&i.isLocked,Nn=En||Sn,wn="creatorActionOverflowMenu",Cn="LOCKED"===ie,xn=yn&&!hn||!En,An=!me||ce,On=function(){ce&&(ln(),Xe())};if(Ge)return o.createElement(T.r,{to:(0,M.ycK)(Ke,i.id)});var Pn={kind:ne.Bd.POST,target:i};return o.createElement(o.Fragment,null,o.createElement(Be.T,{buttonStyle:"STRONG",cancelText:"Cancel",isVisible:Qe,onConfirm:function(){Ye(!0)},hide:en,titleText:"Edit story and response",confirmText:"Continue",isDestructiveAction:!1},Fe.T),o.createElement(Be.T,{buttonStyle:"ERROR",cancelText:"Cancel",isVisible:un,onConfirm:kn,hide:pn,titleText:fn,confirmText:"Delete",isDestructiveAction:!0,testId:"deleteStoryModal"},gn),o.createElement(P.f,(0,a.A)({},Pn,{viewer:de}),(function(e){var n=e.onClick,t=e.bookmarkIcon;return o.createElement(ue.A,{targetDistance:10,ariaId:wn,isVisible:an,hide:ln,positioningStrategy:g,hideOnScroll:b,popoverRenderFn:function(){return o.createElement(m.Ni,null,E&&o.createElement(o.Fragment,null,E(ln)),En&&C&&o.createElement(f,{showAt:C,onClick:n,hidePopover:ln,bookmarkIcon:t}),o.createElement(o.Fragment,null,o.createElement(I.D,{type:"popover",handleClick:On,href:(0,M.ycK)(Ke,i.id),isVisible:!!Nn},"Edit ",pe),V&&yn&&be&&An&&o.createElement(m.q3,null,o.createElement(p.N,{onClick:xe},fe?"Unpin this ".concat(pe," from "):"Pin this ".concat(pe," to "),V.name)),hn&&ye&&An&&o.createElement(m.q3,null,o.createElement(p.N,{onClick:ze},Le?"Unpin this ".concat(pe," from your profile"):"Pin this ".concat(pe," to your profile"))),o.createElement(D.z,{post:i,onClick:ln,menuStyle:"TEXT"}),En?o.createElement(o.Fragment,null,o.createElement(m.eS,null),o.createElement(m.q3,null,o.createElement(p.N,{href:(0,M.vEY)(Ke,i.id)},s()(pe)," settings"))):null,En&&o.createElement(m.q3,null,o.createElement(p.N,{href:(0,M.doj)(Ke,i.id)},s()(pe)," stats")),En&&Cn&&te&&(null==oe?void 0:oe.shareKey)&&o.createElement(j,{post:i,shareKey:null==oe?void 0:oe.shareKey}),En&&o.createElement(m.eS,null),En?o.createElement(o.Fragment,null,o.createElement(Z,{hidePopover:ln,postId:i.id,allowResponses:X}),o.createElement(he,{post:i,show:function(){G(!0),ln()}}),o.createElement(Ae,{viewer:de,post:i,show:function(){Q(!0),ln()}}),hn&&o.createElement(m.q3,null,o.createElement(p.N,{onClick:We(ln,mn),color:"RED"},"Delete ",pe))):null,xn?o.createElement(o.Fragment,null,yn&&o.createElement(m.eS,null),!c&&o.createElement(O,{post:i,hidePopover:ln}),o.createElement(o.Fragment,null,se?o.createElement(je,{targetUserId:A.id,postId:i.id,hidePopover:ln,viewerId:se}):o.createElement(m.q3,null,o.createElement(Te.r,{operation:"register",post:i,susiEntry:"report_footer"},"Report this ",pe))),o.createElement(R.J,{hidePopover:ln,creator:A,collection:V,postId:i.id}),o.createElement(De.U,{hidePopover:ln,creator:A,viewer:de}),o.createElement(Ve.U,{hidePopover:ln,creator:A,viewer:de})):null))}},o.createElement(Se,{post:i,isVisible:K,hide:function(){G(!1)},showLoadingIndicator:l},o.createElement(Oe,{viewer:de,post:i,isVisible:J,hide:function(){Q(!1)}},o.createElement(Ne,{post:i,isVisible:B,hide:function(){W(!1)},showLoadingIndicator:l},o.createElement(v.a,{flexGrow:"0",marginRight:"-4px"},o.createElement(y,{ariaControls:wn,ariaExpanded:an?"true":"false",ariaLabel:"More options",onClick:function(){B?W(!1):K?G(!1):on()},isResponsive:k,tooltipText:"More",testId:h,rules:S}))))))})))},tn=t(48011),an=t(32996),ln=t(49470);function on(){return on=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)({}).hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},on.apply(null,arguments)}const rn=function(e){return o.createElement("svg",on({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),Xe||(Xe=o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10m-13.75-.5a.5.5 0 0 0 0 1h7.5a.5.5 0 0 0 0-1z",clipRule:"evenodd"})))};var dn;function sn(){return sn=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)({}).hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},sn.apply(null,arguments)}const cn=function(e){return o.createElement("svg",sn({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),dn||(dn=o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10M12 7.75a.5.5 0 0 1 .5.5v3.25h3.25a.5.5 0 0 1 0 1H12.5v3.25a.5.5 0 0 1-1 0V12.5H8.25a.5.5 0 0 1 0-1h3.25V8.25a.5.5 0 0 1 .5-.5",clipRule:"evenodd"})))};var un;function mn(){return mn=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)({}).hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},mn.apply(null,arguments)}const pn=function(e){return o.createElement("svg",mn({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),un||(un=o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18m10-9c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10M7.75 12a.5.5 0 0 1 .5-.5h3.25V8.25a.5.5 0 0 1 1 0v3.25h3.25a.5.5 0 0 1 0 1H12.5v3.25a.5.5 0 0 1-1 0V12.5H8.25a.5.5 0 0 1-.5-.5",clipRule:"evenodd"})))};var vn=t(43849),kn=t(8963),fn=t(34507),gn={pointerEvents:"none"};function bn(e){var n=e.hidePopover,t=e.post,i=(0,q.e)(!1),a=(0,r.A)(i,3),l=a[0],d=a[1],s=a[2],c=(0,fn.K)(t.id),u=c.loading,p=c.showMore,v=c.showLess,k=c.explicitSignal,f=c.undo,g=c.showUndoToast,b=c.showMoreToast,h=(0,vn.$)(),y=h.animateShowLess,E=h.animateUndo,S=k===ne.WN.SHOW_MORE,N=k===ne.WN.SHOW_LESS,w=(0,o.useCallback)((function(){S?f():(p(),b()),n()}),[p,n,S,f,b]),C=(0,o.useCallback)((function(){N?(f(),g(ne.WN.SHOW_LESS),n(),null==E||E()):(v(),y?(n(),y()):d())}),[v,n,N,f,g,y,E]),x=(0,o.useCallback)((function(){n(),s()}),[n,s]);return o.createElement(o.Fragment,null,o.createElement(hn,{value:ne.WN.SHOW_MORE,onClick:w,isSelected:S,loading:u}),o.createElement(hn,{value:ne.WN.SHOW_LESS,onClick:C,isSelected:N,loading:u}),o.createElement(m.eS,null),o.createElement(kn.b,{isVisible:l,hide:x,post:t}))}var hn=function(e){var n=e.value,t=e.onClick,i=e.isSelected,a=e.loading;return o.createElement(m.q3,{loading:a},o.createElement(p.N,{onClick:t,disabled:a,rules:a?gn:void 0},o.createElement(v.a,{display:"flex"},o.createElement(v.a,{marginRight:"12px",flexShrink:"0"},o.createElement(yn,{value:n,isSelected:i})),o.createElement(v.a,{display:"flex",flexDirection:"column",marginTop:"2px",gap:"4px",textAlign:"left"},i?"Undo show ":"Show ",n===ne.WN.SHOW_MORE?"more":"less",o.createElement(V.kZ,{scale:"S"},i?"Undo recommending ":"Recommend ",n===ne.WN.SHOW_MORE?"more":"fewer"," stories like this to me.")))))};function yn(e){var n=e.isSelected;return e.value===ne.WN.SHOW_MORE?n?o.createElement(cn,null):o.createElement(pn,null):n?o.createElement(rn,null):o.createElement(ln.A,null)}var En=t(63933),Sn=t(72130),Nn=t(49287);function wn(e){var n=e.author,t=e.collection,i=e.hidePopover,a=(0,Sn.$L)(),l=(0,_e.cd)(n).viewerEdge,r=(0,Ce.J)(t).viewerEdge,d=(null==n?void 0:n.id)||"",s=(null==t?void 0:t.id)||"",c=null==l?void 0:l.isFollowing,u=null==r?void 0:r.isFollowing,v=(0,En.u)(d,s),k=v.followUser,f=v.unfollowUser,g=v.followCollection,b=v.unfollowCollection,h=(0,Nn.jI)(),y=(0,N.R)().value,E=y&&d===y.id,S=(0,o.useCallback)((function(){a.event("user.".concat(c?"unfollowed":"followed"),{followSource:h,targetUserId:d}),c?f():k(),null==i||i()}),[d,c,k,f,i,h]),w=(0,o.useCallback)((function(){a.event("collection.".concat(u?"unfollowed":"followed"),{followSource:h,collectionId:s}),u?b():g(),null==i||i()}),[s,u,g,i,h,b]);return y?o.createElement(o.Fragment,null,!!n&&!E&&o.createElement(m.q3,null,o.createElement(p.N,{onClick:S},c?"Unfollow":"Follow"," author")),!!t&&!(null!=r&&r.isEditor)&&o.createElement(m.q3,null,o.createElement(p.N,{onClick:w},u?"Unfollow":"Follow"," publication"))):null}function Cn(e){var n=e.post,t=e.isResponsive,i=e.popoverPositioningStrategy,l=e.viewer,d=e.hideOnScroll,s=e.testId,c=e.prependMenuItems,u=e.rules,p=e.showAddToList,v=e.onButtonClick,k=n.id,g=n.creator,b=n.collection,h=(0,q.e)(!1),E=(0,r.A)(h,4),S=E[0],N=E[2],w=E[3],C=(0,o.useCallback)((function(){null==v||v(),w()}),[w,v]),x={kind:ne.Bd.POST,target:n},A=(0,o.useCallback)((function(e,t){return o.createElement(m.Ni,{width:"248px"},c&&o.createElement(o.Fragment,null,c(N)),p&&o.createElement(f,{showAt:p,onClick:e,hidePopover:N,bookmarkIcon:t}),o.createElement(bn,{hidePopover:N,post:n}),o.createElement(O,{post:n,hidePopover:N}),o.createElement(wn,{author:g,collection:b,hidePopover:N}),o.createElement(m.eS,null),o.createElement(R.J,{creator:g,collection:b,hidePopover:N,postId:k}),o.createElement(je,{postId:k,viewerId:null==l?void 0:l.id,targetUserId:(null==g?void 0:g.id)||"",hidePopover:N}))}),[c,p]);return null!=g&&g.id?o.createElement(P.f,(0,a.A)({},x,{viewer:l}),(function(e){var n=e.onClick,a=e.bookmarkIcon;return o.createElement(ue.A,{isVisible:S,positioningStrategy:i,targetDistance:10,hide:N,popoverRenderFn:function(){return A(n,a)},hideOnScroll:d},o.createElement(y,{onClick:C,ariaLabel:"More options",isResponsive:t,tooltipText:"More",testId:s,rules:u}))})):null}var xn=["post","showExplicitSignalTooltip","showAddToList"];function An(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function On(e){var n=e.post,t=e.showExplicitSignalTooltip,r=e.showAddToList,d=(0,l.A)(e,xn),s=n.creator,c=n.collection,u=n.visibility,m=(0,N.R)(),p=m.loading,v=m.value,k=(0,Ce.J)(c).viewerEdge,f=!p&&!!v,g=!(null==k||!k.isEditor),b=(null==v?void 0:v.id)===(null==s?void 0:s.id),h=u===ne.dL.UNLISTED?void 0:r;if(!s||!f)return null;if(g||b)return o.createElement(ce.B,null,(function(e){var t=e.show;return o.createElement(en,(0,a.A)({post:n,showLoadingIndicator:t,showAddToList:h},d))}));var y=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?An(Object(t),!0).forEach((function(n){(0,i.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):An(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({post:n,viewer:v,showAddToList:h},d);return t?o.createElement(Pn,y):o.createElement(Cn,y)}function Pn(e){var n=function(e){var n,t=(0,N.R)().value,i=(0,o.useState)(!(null==t||!t.dismissableFlags.includes(e))),a=(0,r.A)(i,2),l=a[0],d=a[1],s=(0,ee.n)(tn.x,{variables:{userId:null!==(n=null==t?void 0:t.id)&&void 0!==n?n:"",flag:e}}),c=(0,r.A)(s,1)[0];return{isDismissed:l,dismiss:(0,o.useCallback)((function(){d(!0),c()}),[c])}}(ne.bT.SAVE_TO_LIST_FROM_MORE_MENU_TOOLTIP),t=n.isDismissed,i=n.dismiss;return o.createElement(an.A,{isVisible:!t,message:"Looking to save a story? You can now save from the “•••” menu.",dismissText:"Okay, got it",dismiss:i,boxProps:{maxWidth:"200px"},positioningStrategy:"fixed"},o.createElement(Cn,(0,a.A)({onButtonClick:i},e)))}},67459:(e,n,t)=>{t.d(n,{J:()=>c,g:()=>s});var i=t(96540),a=t(64122),l=t(56742),o=t(51260),r=t(39160),d=t(60213),s=function(){var e=(0,r.d4)((function(e){return e.config.authDomain})),n=(0,o.RW)(),t=n.type===l.S9.USER,s=(0,o.om)(),c=(0,d.u)(),u=(0,a.W)();return(0,i.useCallback)((function(n){var i,a=n.uniqueSlug||n.id;if(n.isSeries)return"https://".concat(e).concat(s("ShowSeries",{postId:a}));if(null!==(i=n.sequence)&&void 0!==i&&i.slug)return"https://".concat(e).concat(s("ShowSequencePost",{sequenceSlug:n.sequence.slug,postId:a}));if(n.collection&&!t){var l=c({id:n.collection.id,domain:n.collection.domain,slug:n.collection.slug});return"".concat(l,"/").concat(a)}if(n.creator){var o=u(n.creator);return"".concat(o,"/").concat(a)}return"https://".concat(e).concat(s("ShowPost",{postId:a}))}),[n,s,c,u])},c=function(e){return s()(e)}},43002:(e,n,t)=>{t.d(n,{w:()=>c});var i=t(96540),a=t(18599),l=t(60213),o=t(41299),r=t(86527),d=t(5600),s=t(36557),c=function(e){var n=e.collection,t=e.clamp,c=e.popoverPlacement,u=void 0===c?"bottom":c,m=e.scale,p=void 0===m?"M":m,v=e.testId,k=(0,l.z)(n);return i.createElement(o.R,{placement:u,targetDistance:a.r,mouseLeaveDelay:100,mouseEnterDelay:d.A,popoverRenderFn:function(){return i.createElement(a.a,{collection:n})},display:"block",noArrow:!0},i.createElement(r.N,{inline:!0,href:k,linkStyle:"SUBTLE",display:"flex",rules:{alignItems:"center"},"data-testid":v},i.createElement(s.kZ,{scale:p,color:"DARKER",clamp:t},n.name)))}},44929:(e,n,t)=>{t.d(n,{D:()=>v});var i=t(58168),a=t(80045),l=t(96540),o=t(14782),r=t(86527),d=t(99731),s=t(51260),c=t(65550),u=["size","href","children","handleClick","buttonStyle","type","isVisible"],m=["href","children","handleClick"],p=["handleClick","isVisible","children","href"],v=function(e){var n=e.size,t=e.href,o=e.children,r=e.handleClick,d=e.buttonStyle,m=e.type,p=e.isVisible,v=void 0===p||p,b=(0,a.A)(e,u),h=!(0,c.L)(),y=(0,s.IF)(),E=(0,s.au)(),S=(0,l.useCallback)((function(e){null==r||r(e)}),[r]);if(!v)return null;var N=y(new URL(t).pathname),w=null==N?void 0:N.params.postId,C=t;switch(h||(C=w?E("ShowMobileWebEditorRedirectEditStory",{postId:w}):E("ShowMobileWebEditorRedirectNewStory",{})),m){case"link":return l.createElement(k,(0,i.A)({href:C,handleClick:S},b),o);case"button":return l.createElement(g,{buttonStyle:d,size:n,href:C,handleClick:S},o);case"popover":return l.createElement(f,(0,i.A)({isVisible:v,href:C,handleClick:S},b),o)}},k=function(e){var n=e.href,t=e.children,o=e.handleClick,d=(0,a.A)(e,m);return l.createElement(r.N,(0,i.A)({href:n,onClick:o},d),t)},f=function(e){var n=e.handleClick,t=e.isVisible,r=void 0===t||t,d=e.children,s=e.href,c=(0,a.A)(e,p);return r?l.createElement(o.q3,null,l.createElement(k,(0,i.A)({href:s,handleClick:n},c),d)):null},g=function(e){var n=e.href,t=e.size,i=e.buttonStyle,a=e.children,o=e.handleClick;return l.createElement(d.$n,{buttonStyle:i,size:t,href:n,onClick:o},a)}},66356:(e,n,t)=>{t.d(n,{c:()=>r});var i=t(54499),a=t(43253),l=t(96540),o=t(91271);function r(e){var n=e.hasPrefix,t=void 0!==n&&n,r=e.timestamp,d=e.testId,s=e.isShorthand,c=Date.now(),u=(0,i.A)(c,r),m=(0,a.A)(c,r);if(0===m){var p=t?"just now":"Just now";return l.createElement(l.Fragment,null,p)}if(m>=1&&m<24){var v=s?"".concat(m,"h ago"):"".concat(m," hour").concat(m>1?"s":""," ago");return l.createElement(l.Fragment,null,v)}if(u>=1&&u<7){var k=s?"".concat(u,"d ago"):"".concat(u," day").concat(u>1?"s":""," ago");return l.createElement(l.Fragment,null,k)}return(0,o.n9)({timestamp:r,testId:d,isShorthand:s})}},83573:(e,n,t)=>{t.d(n,{s:()=>i});var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UserReportStoryMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetPostId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetAuthorId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"alsoBlockAuthor"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"reason"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reportStoryAndMaybeBlockAuthor"},arguments:[{kind:"Argument",name:{kind:"Name",value:"targetPostId"},value:{kind:"Variable",name:{kind:"Name",value:"targetPostId"}}},{kind:"Argument",name:{kind:"Name",value:"targetAuthorId"},value:{kind:"Variable",name:{kind:"Name",value:"targetAuthorId"}}},{kind:"Argument",name:{kind:"Name",value:"alsoBlockAuthor"},value:{kind:"Variable",name:{kind:"Name",value:"alsoBlockAuthor"}}},{kind:"Argument",name:{kind:"Name",value:"reason"},value:{kind:"Variable",name:{kind:"Name",value:"reason"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isBlocking"}}]}}]}}]}}]}},17045:(e,n,t)=>{t.d(n,{M:()=>s});var i=t(80296),a=t(95420),l=t(96540),o=t(72130),r=t(91830),d=t(83573);function s(e){var n=e.viewerId,t=e.targetAuthorId,s=e.targetPostId,c=e.onOptimisticComplete,u=(0,r.zF)(),m=(0,o.$L)(),p=(0,a.n)(d.s),v=(0,i.A)(p,1)[0];return(0,l.useCallback)((function(e,i){v({variables:{targetAuthorId:t,targetPostId:s,alsoBlockAuthor:e,reason:i},onCompleted:function(){u({message:"Successfully reported post."}),m.event("post.flagged",{postId:s,reason:i})},onError:function(){u({message:"Unable to report this story. Please try again later."})},optimisticResponse:{__typename:"Mutation",reportStoryAndMaybeBlockAuthor:{__typename:"User",id:t,viewerEdge:{__typename:"UserViewerEdge",id:"userId:".concat(t,"-viewerId:").concat(n),isBlocking:e}}}}),null==c||c()}),[v,n,t,s,c])}},83983:(e,n,t)=>{t.d(n,{G:()=>i,P:()=>a});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3EmailToSubscribersMenuItem_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"subscribersCount"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"isNewsletter"}},{kind:"Field",name:{kind:"Name",value:"isAuthorNewsletter"}}]}}]},a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SendPostAsEmailsMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendPostAsEmails"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}]}]}}]}},60487:(e,n,t)=>{t.d(n,{z:()=>w});var i,a=t(64467),l=t(80296),o=t(95420),r=t(96540),d=t(52764),s=t(14782),c=t(86527),u=t(52290),m=t(46445),p=t(36557),v=t(44402),k=t(91830);function f(){return f=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)({}).hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},f.apply(null,arguments)}const g=function(e){return r.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",width:20,height:16,viewBox:"0 0 20 16"},e),i||(i=r.createElement("path",{d:"M0 .353v15.294h20V.353zm6.948 9.374L10 12.226l3.052-2.499 4.877 4.73H2.071zm-5.75 3.913V5.02l4.82 3.946zm12.784-4.675 4.82-3.946v8.621zm4.82-7.421v1.933L10 10.682 1.198 3.477V1.544z"})))};var b=t(60603),h=t(83983);function y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function E(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?y(Object(t),!0).forEach((function(n){(0,a.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function S(e){return{fill:e.colorTokens.foreground.neutral.secondary.base}}var N={height:"16px",width:"16px",marginLeft:"4px"};function w(e){var n=e.post,t=e.onClick,i=e.menuStyle,a=(0,v.l)(),f=(0,b.e)(!1),y=(0,l.A)(f,3),w=y[0],C=y[1],x=y[2],A=(0,k.zF)(),O=function(){x(),t()},P=(0,o.n)(h.P,{variables:{postId:(null==n?void 0:n.id)||""},onCompleted:function(e){var n=e.sendPostAsEmails;A(n?{message:"Your story has been emailed to subscribers.",toastStyle:"MESSAGE",duration:2e3}:{message:"We couldn't process your request. Try again, or contact our support team.",toastStyle:"ERROR",duration:2e3})},update:function(e,t){var i={id:"Post:".concat(null==n?void 0:n.id),fragment:h.G,fragmentName:"NewsletterV3EmailToSubscribersMenuItem_post"},a=e.readFragment(i);t.data&&a&&e.writeFragment(E(E({},i),{},{data:E(E({},a),{},{isAuthorNewsletter:t.data.sendPostAsEmails})}))}}),I=(0,l.A)(P,1)[0];return r.createElement(d.c,null,(function(e){var l,o,d;return e&&e.id===(null==n||null===(l=n.creator)||void 0===l?void 0:l.id)&&(null==n||!n.isNewsletter)&&((null==n||null===(o=n.creator)||void 0===o||null===(d=o.newsletterV3)||void 0===d?void 0:d.subscribersCount)||0)>0?r.createElement(r.Fragment,null,r.createElement(s.q3,{paddingTopBottom:"8px"},r.createElement(c.N,{"data-testid":"emailToSubscribersMenuItem",onClick:function(){null!=n&&n.isAuthorNewsletter?(A({message:"You’ve already sent this story to subscribers.",toastStyle:"ERROR",duration:2e3}),t()):C()}},"TEXT"===i?r.createElement(u.a,{display:"inline-block"},r.createElement(p.kZ,{scale:"M"},"Email to subscribers")):r.createElement(u.a,{display:"inline-block"},r.createElement(g,{className:a([S,N])}),r.createElement(u.a,{display:"inline-block",marginLeft:"20px"},r.createElement(p.kZ,{scale:"S"},"Email to subscribers"))))),r.createElement(m.T,{onConfirm:function(){I(),O()},isVisible:w,hide:O,titleText:"Email to subscribers",confirmText:"Send",buttonStyle:"STRONG",buttonSize:"LARGE",showCancelButton:!0,withCloseButton:!0,isDestructiveAction:!1},"A link to this story will be emailed to all your subscribers.")):r.createElement(r.Fragment,null)}))}},38714:(e,n,t)=>{t.d(n,{M:()=>i,b:()=>a});var i=function(e){return!!e&&(e.isAuroraVisible||"Collection"===e.__typename&&e.isAuroraEligible&&e.viewerEdge.isEditor)},a=function(e){return!!e&&("Collection"===e.__typename?e.isAuroraVisible||e.isAuroraEligible&&e.viewerEdge.isEditor:e.isAuroraVisible)}},89429:(e,n,t)=>{t.d(n,{N:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useIsPinnedInContext_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"pendingCollection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"pinnedAt"}},{kind:"Field",name:{kind:"Name",value:"pinnedByCreatorAt"}}]}}]}},89142:(e,n,t)=>{t.d(n,{L:()=>d,m:()=>s});var i=t(80296),a=t(95420),l=t(96540),o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SetPinnedAtMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pinnedAt"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"setPinnedAt"},arguments:[{kind:"Argument",name:{kind:"Name",value:"targetPostId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}},{kind:"Argument",name:{kind:"Name",value:"targetCollectionId"},value:{kind:"Variable",name:{kind:"Name",value:"collectionId"}}},{kind:"Argument",name:{kind:"Name",value:"pinnedAt"},value:{kind:"Variable",name:{kind:"Name",value:"pinnedAt"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"pendingCollection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"pinnedAt"}}]}}]}}]}}]},r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PostSetPinnedByCreatorAtMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isPinned"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setPostPinnedOnCreatorProfile"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"targetPostId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}},{kind:"ObjectField",name:{kind:"Name",value:"isPinned"},value:{kind:"Variable",name:{kind:"Name",value:"isPinned"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]},d=function(e){var n=e.id,t=e.collection,r=e.pendingCollection,d=e.pinnedAt,s=(t||r||{id:""}).id,c=(0,a.n)(o,{optimisticResponse:{__typename:"Mutation",setPinnedAt:{__typename:"Post",id:n,collection:t,pendingCollection:r,pinnedAt:d?0:Date.now()}}}),u=(0,i.A)(c,1)[0],m=l.useCallback((function(){return u({variables:{postId:n,collectionId:s,pinnedAt:!d}})}),[n,s,d,u]);return[d,m]},s=function(e){var n=e.id,t=e.pinnedByCreatorAt,o=(0,a.n)(r,{optimisticResponse:{setPostPinnedOnCreatorProfile:{__typename:"MutationSuccess"}},update:function(e,i){var a;"MutationSuccess"===(null===(a=i.data)||void 0===a?void 0:a.setPostPinnedOnCreatorProfile.__typename)&&e.modify({id:"Post:".concat(n),fields:{pinnedByCreatorAt:function(){return t?0:Date.now()}}})}}),d=(0,i.A)(o,1)[0],s=l.useCallback((function(){return d({variables:{postId:n,isPinned:!t}})}),[n,d,t]);return[t,s]}},62427:(e,n,t)=>{t.d(n,{L:()=>w});var i,a=t(64467),l=t(96540),o=t(86527),r=t(5600),d=t(36557),s=t(72130),c=t(49287),u=t(44402);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)({}).hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},m.apply(null,arguments)}const p=function(e){return l.createElement("svg",m({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24"},e),i||(i=l.createElement("path",{d:"M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"})))};var v;function k(){return k=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)({}).hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},k.apply(null,arguments)}const f=function(e){return l.createElement("svg",k({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24"},e),v||(v=l.createElement("path",{fillRule:"evenodd",d:"M18.472 20.272c-1.194 0-2.335-.355-3.39-1.052a8 8 0 0 1-.676-.499 8.7 8.7 0 0 1-2.284.307C7.638 19.028 4 15.668 4 11.54c.001-4.148 3.64-7.508 8.123-7.508 4.475 0 8.118 3.36 8.118 7.49 0 1.977-.816 3.826-2.307 5.231.022.163.058.336.114.528.184.662.515 1.325.985 1.958.144.202.165.461.055.672a.66.66 0 0 1-.588.365h-.029z",clipRule:"evenodd"})))};function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach((function(n){(0,a.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var h=function(e,n){return"LIGHTER"===n?e.colorTokens.foreground.neutral.primary.hover:e.colorTokens.foreground.neutral.secondary.base},y=function(e,n){return function(t){return{cursor:n?"not-allowed":"pointer",border:0,opacity:1,padding:"4px 0",display:"flex",alignItems:"center",fill:"LIGHTER"===e?t.colorTokens.foreground.neutral.secondary.base:t.baseColor.fill.light,":hover":n?void 0:{fill:h(t,e),"& p":{color:h(t,e)}}}}},E=function(e){return{cursor:"not-allowed",fill:e.colorTokens.foreground.neutral.secondary.base,opacity:.25}},S=function(e){var n=e.disabled,t=e.handleClick,i=e.href,a=e.children,r=e.responsesCountColor,d=e.testId,s=(0,u.l)();return i?l.createElement(o.N,{onClick:t,href:i,rules:y(r,n),"aria-label":"responses",disabled:n,"data-testid":d},a):l.createElement("button",{onClick:t,className:s(y(r,n)),"aria-label":"responses",disabled:n,"data-testid":d},a)},N=function(e){var n=e.disabled,t=e.iconStylesOverride,i=(0,u.l)();return n?l.createElement(f,{className:i([E])}):l.createElement(p,{className:i([t])})},w=function(e){var n=e.disabled,t=e.disabledTooltipText,i=void 0===t?"":t,a=e.responsesCount,o=e.handleClick,m=e.trackingData,p=e.iconStylesOverride,v=e.countStylesOverride,k=e.responsesCountColor,f=void 0===k?"LIGHTER":k,g=e.responsesCountScale,h=void 0===g?"M":g,y=e.href,E=(0,u.l)(),w=(0,s.$L)(),C=(0,c.jI)(),x=!n&&a,A=(0,l.useCallback)((function(e){null==o||o(e),w.event("responses.viewAllClicked",b(b({},m),{},{source:C}))}),[w,o,m,C]);return l.createElement(r.G,{tooltipText:n?i:"Respond",targetDistance:15},l.createElement(S,{handleClick:n?void 0:A,responsesCountColor:f,disabled:n,href:y},l.createElement(N,{disabled:n,iconStylesOverride:p}),!!x&&l.createElement(d.kZ,{scale:h,color:f},l.createElement("span",{className:"pw-responses-count ".concat(E([v]))},a))))}},26311:(e,n,t)=>{t.d(n,{_:()=>o});var i=t(58168),a=t(96540),l=t(62427),o=function(e){var n=!e.allowResponses||e.isLimitedState||!e.isPublished,t=(0,a.useMemo)((function(){return e.isPublished?e.allowResponses?e.isLimitedState?"This feature is temporarily disabled":void 0:"Responses hidden":"You cannot respond to a draft"}),[e.isPublished,e.allowResponses,e.isLimitedState]);return a.createElement(l.L,(0,i.A)({},e,{disabled:n,disabledTooltipText:t}))}},32038:(e,n,t)=>{t.d(n,{T:()=>a,e:()=>i});var i="This story is also a response to another story. Are you sure you want to delete this story?",a="This story is also a response to another story. Any edits are applied to both."},32996:(e,n,t)=>{t.d(n,{A:()=>s});var i=t(58168),a=t(96540),l=t(86527),o=t(52290),r=t(24960),d=t(36557);function s(e){var n=e.boxProps,t=void 0===n?{}:n,s=e.children,c=e.dismiss,u=e.dismissText,m=void 0===u?"Ok, got it.":u,p=e.isVisible,v=e.onShow,k=e.message,f=e.withBoldNew,g=void 0!==f&&f,b=e.targetDistance,h=void 0===b?5:b,y=e.positioningStrategy;return(0,a.useEffect)((function(){p&&v&&v()}),[p]),a.createElement(r.A,{hide:c,isVisible:p,noPortal:!0,darkTheme:!0,popoverRenderFn:function(){return a.createElement(o.a,(0,i.A)({padding:"16px"},t),a.createElement(o.a,{marginBottom:"12px"},a.createElement(d.kZ,{scale:"S",color:"WHITE",tag:"span"},g&&a.createElement("strong",null,"New! "),k)),a.createElement(d.kZ,{scale:"S",color:"WHITE"},a.createElement(l.N,{onClick:c,linkStyle:"OBVIOUS",inline:!0},m)))},referenceWidth:"100%",targetDistance:h,positioningStrategy:y},s)}},94170:(e,n,t)=>{t.d(n,{a:()=>O});var i=t(80296),a=t(96540),l=t(96063),o=t(79766),r=t(52290),d=t(99731),s=t(3005),c=t(48198),u=t(85050),m=t(27049),p=t(56942),v=t(36557),k=t(98761),f=t(18642),g=t(46963),b={xs:"SMALL",sm:"REGULAR",md:"REGULAR",lg:"REGULAR",xl:"REGULAR"},h={position:"absolute",top:"8px",left:"0",width:"100%",minHeight:"calc(100% - 8px)",borderRadius:"12px 12px 0 0",padding:"0 24px 24px"},y=function(e){return{"0%":{transform:e?"translateY(100%)":"translateY(16px)"},"100%":{transform:e?"translateY(0%)":"translateY(0px)"}}},E=function(e){return{"0%":{transform:e?"translateY(0%)":"translateY(0px)"},"100%":{transform:e?"translateY(100%)":"translateY(16px)"}}},S={"0%":{opacity:"0"},"100%":{opacity:"1"}},N={"0%":{opacity:"1"},"100%":{opacity:"0"}},w={"0%":{transform:"scale(1)"},"50%":{transform:"scale(1.02)"},"75%":{transform:"scale(1.02)"},"100%":{transform:"scale(1)"}},C={"0%":{background:(0,f.qy)(0)},"100%":{background:(0,f.qy)(.25)}},x={"0%":{background:(0,f.qy)(.25)},"100%":{background:(0,f.qy)(0)}},A={padding:"24px 0"},O=function(e){var n=e.hide,t=e.title,O=e.subtitle,P=e.subtitleTextAlign,I=e.onConfirm,F=e.confirmText,R=e.confirmButtonStyle,T=void 0===R?"STRONG":R,D=e.onCancel,V=e.cancelText,_=e.cancelButtonStyle,M=void 0===_?"OBVIOUS":_,L=e.children,j=e.withCloseButton,B=void 0===j||j,U=e.hideOnConfirm,W=void 0===U||U,H=e.preventClickOutside,z=e.confirmDisabled,K=e.confirmBeforeLeavePage,q=e.delayHideEnabled,Z=e.padding,G=void 0===Z?"32px":Z,Y=e.subtitleMargin,$=void 0===Y?"24px":Y,J=e.subtitleColor,Q=void 0===J?"DARKER":J,X=(0,a.useRef)(null),ee=(0,a.useState)(!0),ne=(0,i.A)(ee,2),te=ne[0],ie=ne[1],ae=(0,a.useState)(!0),le=(0,i.A)(ae,2),oe=le[0],re=le[1],de=(0,g.U)()===m.i.xs,se=(0,k.h)({modalBounceKeyframe:w,overlayFadeInKeyframe:C,overlayFadeOutKeyframe:x}),ce=se.modalBounceKeyframe,ue=se.overlayFadeInKeyframe,me=se.overlayFadeOutKeyframe,pe=(0,a.useCallback)((function(){re(!1)}),[]),ve=(0,a.useCallback)((function(e){X.current&&H&&!de&&(e.preventDefault(),e.stopPropagation(),X.current.style.animation="".concat(ce," 600ms ease-in-out"))}),[ce,H,de]);(0,l.A)(X,ve),(0,o.c)({disabled:!K});var ke=(0,a.useCallback)((function(){null==I||I(),W&&pe()}),[pe,I,W]),fe=(0,a.useCallback)((function(){null==D||D(),pe()}),[pe,D]),ge=(0,a.useMemo)((function(){return F||V?a.createElement(r.a,{display:"flex",justifyContent:"flex-end",gap:"16px"},V&&a.createElement(d.$n,{buttonStyle:M,onClick:fe,size:b},V),F&&a.createElement(d.$n,{buttonStyle:T,onClick:ke,size:b,disabled:z},F)):null}),[I,F,T,D,V,M,pe,z]);(0,a.useEffect)((function(){if(X.current)return X.current.addEventListener("animationend",e),function(){var n;null===(n=X.current)||void 0===n||n.removeEventListener("animationend",e)};function e(){X.current.style.animation=""}}),[]),(0,a.useEffect)((function(){if(!oe&&n){var e=setTimeout((function(){n()}),310);return function(){clearTimeout(e)}}}),[oe,n]),(0,a.useEffect)((function(){q&&re(!1)}),[q]);var be,he=(0,a.useCallback)((function(){return ie(!1)}),[]),ye=function(e){var n=e.isAnimating,t=e.isVisible,i=e.isMobile,a=(0,k.h)({modalSlideInKeyframe:y(i),modalSlideOutKeyframe:E(i),modalFadeInKeyframe:S,modalFadeOutKeyframe:N,modalBounceKeyframe:w,overlayFadeInKeyframe:C,overlayFadeOutKeyframe:x}),l=a.modalSlideInKeyframe,o=a.modalSlideOutKeyframe,r=a.modalFadeInKeyframe,d=a.modalFadeOutKeyframe;if(t&&!n)return{animation:"none"};var s="".concat(t?l:o," ").concat(300,"ms forwards cubic-bezier(0.4, 0, 0.2, 1)");if(i)return{animation:s,position:"absolute",width:"100%",height:"calc(100% - 8px)"};var c="".concat(t?r:d," 150ms forwards ease-in-out");return{animation:"".concat(s,", ").concat(c)}}({isAnimating:te,isVisible:oe,isMobile:de});return a.createElement(s.l,{isVisible:oe,hide:H?void 0:pe,withCloseButton:!1,withLayerAnimation:!1,withAnimation:!0,padding:0,customBackgroundColor:(0,f.qy)(.25),layerRules:[A,(be=oe?ue:me,function(){return{animation:"".concat(be," 150ms forwards ease-in-out")}})],containerRules:ye,onAnimationEnd:he},a.createElement(r.a,{ref:X,boxShadow:"rgba(0, 0, 0, 0.15) 0px 2px 10px",width:"540px",padding:G,borderRadius:"4px",backgroundColor:"BACKGROUND",position:"relative",xs:h},a.createElement(u.V,{xs:!0,height:"56px",marginBottom:"16px",paddingTop:"16px"},ge),a.createElement(r.a,{textAlign:"center"},a.createElement(p.DZ,{scale:"S"},t)),O&&a.createElement(r.a,{marginTop:$,textAlign:P},a.createElement(v.kZ,{scale:"M",color:Q},O)),L&&a.createElement(r.a,{marginTop:"32px"},L),ge&&a.createElement(u.V,{sm:!0,md:!0,lg:!0,xl:!0,marginTop:"32px"},ge),B&&a.createElement(r.a,{position:"absolute",right:{xs:void 0,sm:"16px",md:"16px",lg:"16px",xl:"16px"},top:{xs:"18px",sm:"16px",md:"16px",lg:"16px",xl:"16px"},left:{xs:"18px",sm:void 0,md:void 0,lg:void 0,xl:void 0}},a.createElement(c.J,{isPositionAbsolute:!1,compensateInnerPadding:!1,size:"REGULAR",onClick:pe}))))}},55981:(e,n,t)=>{t.d(n,{n:()=>r});var i=t(96540),a=t(44402),l=t(1417),o=function(e){return{"& path":{fill:e.colorTokens.foreground.error.primary.base}}},r=function(){var e=(0,a.l)();return i.createElement(l.A,{className:e(o)})}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/4875.69818fa5.chunk.js.map